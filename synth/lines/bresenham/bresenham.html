<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desenho de Linha - Bresenham</title>
    <style>
        canvas {
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <h1>Desenhar Linha no Plano Cartesiano</h1>
    <canvas id="canvas" width="800" height="600"></canvas>
    <div id="controls">
        <div id="selected-coordinates">Pontos selecionados:</div>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const coordinatesDiv = document.getElementById('selected-coordinates');

        let points = [];

        // Função para desenhar o plano cartesiano
        function drawCartesianPlane() {
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const scale = 20;

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Eixo Y
            ctx.beginPath();
            ctx.moveTo(centerX, 0);
            ctx.lineTo(centerX, canvas.height);
            ctx.strokeStyle = 'black';
            ctx.lineWidth = 2;
            ctx.stroke();

            // Eixo X
            ctx.beginPath();
            ctx.moveTo(0, centerY);
            ctx.lineTo(canvas.width, centerY);
            ctx.stroke();

            // Desenha a grade
            ctx.strokeStyle = 'lightgray';
            for (let i = -centerX; i <= centerX; i += scale) {
                ctx.beginPath();
                ctx.moveTo(centerX + i, 0);
                ctx.lineTo(centerX + i, canvas.height);
                ctx.stroke();

                ctx.beginPath();
                ctx.moveTo(0, centerY + i);
                ctx.lineTo(canvas.width, centerY + i);
                ctx.stroke();
            }

            // Adiciona os números nos eixos
            ctx.fillStyle = 'black';
            ctx.font = '12px Arial';
            for (let i = -centerX; i <= centerX; i += scale) {
                if (i !== 0) {
                    ctx.fillText(i / scale, centerX + i, centerY + 15);
                    ctx.fillText(-i / scale, centerX - 20, centerY + i);
                }
            }
        }

        // Função para desenhar um ponto no canvas
        function drawPoint(x, y) {
            ctx.fillStyle = 'red'; 
            ctx.beginPath();
            ctx.arc(x, y, 5, 0, Math.PI * 2);
            ctx.fill();
        }

        // Desenha o plano cartesiano ao carregar
        drawCartesianPlane();

        // Evento de clique no canvas para capturar pontos
        canvas.addEventListener('click', (event) => {
            const rect = canvas.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const y = event.clientY - rect.top;

            points.push([x, y]);
            coordinatesDiv.textContent = `Pontos selecionados: ${points.map(([px, py]) => `(${px}, ${py})`).join(', ')}`;

            drawPoint(x, y); 

            // Limpa os pontos e o plano após o terceiro clique
            if (points.length === 3) {
                points = []; 
                coordinatesDiv.textContent = 'Pontos selecionados:'; 
                drawCartesianPlane(); 
            }
        });
    </script>
</body>
</html>
